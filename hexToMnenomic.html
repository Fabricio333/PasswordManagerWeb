<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hex to Mnemonic</title>
</head>
<body>
<h3>Convert Hex Private Key to Mnemonic</h3>
<input type="text" id="hexKey" placeholder="Enter hex private key" style="width: 300px;">
<button onclick="convertHexToMnemonic()">Convert</button>
<p id="mnemonicOutput"></p>
<script src="./bip39WordList.js"></script>
<script>
    // Load the BIP39 English wordlist (Replace with another wordlist if needed)
    const bip39Wordlist = words

    function hexToBytes(hex) {
        let bytes = [];
        for (let i = 0; i < hex.length; i += 2) {
            bytes.push(parseInt(hex.substr(i, 2), 16));
        }
        return bytes;
    }

    function bytesToMnemonic(bytes, wordlist) {
        if (![16, 20, 24, 28, 32].includes(bytes.length)) {
            return "Invalid entropy length. Must be 128, 160, 192, 224, or 256 bits.";
        }

        let binaryStr = bytes.map(byte => byte.toString(2).padStart(8, '0')).join('');
        let mnemonic = [];

        for (let i = 0; i < binaryStr.length; i += 11) {
            let index = parseInt(binaryStr.substr(i, 11), 2);
            mnemonic.push(wordlist[index]);
        }

        return mnemonic.join(" ");
    }

    function convertHexToMnemonic() {
        let hexKey = document.getElementById("hexKey").value.trim();
        if (!/^[0-9a-fA-F]+$/.test(hexKey)) {
            document.getElementById("mnemonicOutput").innerText = "Invalid hex input!";
            return;
        }

        let bytes = hexToBytes(hexKey);
        let mnemonic = bytesToMnemonic(bytes, bip39Wordlist);

        document.getElementById("mnemonicOutput").innerText = mnemonic;
    }
</script>
</body>
</html>
