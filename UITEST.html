<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SecureVault Manager</title>
    <style>
        /* Base Styles */
        :root {
            --primary: #6366f1;
            --secondary: #4f46e5;
            --background: #f8fafc;
            --text: #1e293b;
        }

        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: var(--background);
            color: var(--text);
            margin: 0;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background 0.3s ease;
        }

        .screen {
            background: white;
            padding: 2rem;
            border-radius: 1.5rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            width: 90%;
            max-width: 500px;
            transform: translateY(20px);
            opacity: 0;
            animation: slideUp 0.4s ease forwards;
        }

        /* Welcome Screen */
        .welcome-screen {
            text-align: center;
        }

        .title {
            font-size: 2rem;
            margin-bottom: 1.5rem;
            color: var(--secondary);
            font-weight: 700;
        }

        .option-btn {
            width: 100%;
            padding: 1rem;
            border: none;
            border-radius: 0.75rem;
            background: var(--primary);
            color: white;
            font-size: 1.1rem;
            margin: 0.5rem 0;
            cursor: pointer;
            transition: transform 0.2s ease, background 0.3s ease;
        }

        .option-btn:hover {
            background: var(--secondary);
            transform: translateY(-2px);
        }

        /* Input Screens */
        .input-group {
            margin: 1.5rem 0;
        }

        .input-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }

        .input-field {
            width: 100%;
            padding: 1rem;
            border: 2px solid #e2e8f0;
            border-radius: 0.75rem;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        .input-field:focus {
            outline: none;
            border-color: var(--primary);
        }

        /* Nonce Controls */
        .nonce-container {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .nonce-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: none;
            background: var(--primary);
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .nonce-btn:hover {
            background: var(--secondary);
        }

        /* Password Visibility Toggle */
        .password-toggle {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            cursor: pointer;
            opacity: 0.7;
        }

        /* Animations */
        @keyframes slideUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* Hidden screens */
        .hidden {
            display: none;
        }

        .input-field {
            width: 100%;
            box-sizing: border-box; /* Critical for containment */
            resize: vertical; /* Disable horizontal resizing */
            padding: 12px;
            margin-top: 8px; /* Matches label spacing */
            border: 1px solid #ccc; /* Match your app's border style */
            border-radius: 8px;
            font-family: monospace; /* Aligns words neatly */
        }
        #seedPhraseField {
            height: 100px; /* Adjust height as needed */
            resize: vertical; /* Allow vertical resizing */
            width: 100%; /* Ensure it takes full width */
            padding: 10px; /* Add padding for better readability */
            box-sizing: border-box; /* Include padding in the element's total width and height */
        }
    </style>
</head>

<body>

<!-- Welcome Screen -->
<div class="screen welcome-screen" id="welcomeScreen">
    <h1 class="title">Welcome to YOUR Password Manager!</h1>
    <button class="option-btn" onclick="showScreen('recoverScreen')">
        Recover Key With Seed Phrase
    </button>
    <button class="option-btn" onclick="showScreen('decryptScreen')">
        Load Encrypted Key and Data
    </button>
    <button class="option-btn" onclick="showScreen('newMnemonicScreen');generateValidMnemonic()">
        Create a new Private Key
    </button>
</div>

<!-- Recover Key Screen -->
<div class="screen hidden" id="recoverScreen">
    <h2 class="title">Recovery Phrase</h2>
    <div class="input-group">
        <label class="input-label">Enter 12-word Recovery Phrase</label>
        <textarea
                class="input-field"
                rows="3"
                placeholder="zoo zoo zoo..."
                id="mnemonicPhraseField"
        ></textarea>
    </div>
    <button class="option-btn" onclick="verifySeedAndMoveNext()">
        Continue
    </button>
</div>

<!-- Decryption Screen -->
<div class="screen hidden" id="decryptScreen">
    <h2 class="title">Decrypt Data</h2>

    <div class="input-group">
        <label class="input-label">Decryption Password</label>
        <input type="password" class="input-field">
    </div>

    <button class="option-btn">
        Decrypt Local Storage
    </button>
</div>
<!-- Generation Screen -->
<div class="screen hidden" id="newMnemonicScreen">
    <h2 class="title">Generate a New Mnemonic</h2>
    <p>Make sure you back up your seed phrase in a secure location, preferably offline.</p>

    <div class="input-group">
        <label for="seedPhraseField" class="input-label">Seed Phrase:</label>
        <textarea class="input-field" id="seedPhraseField" readonly></textarea>
    </div>

    <button class="option-btn">I understand.</button>
</div>
<!-- Management Screen -->
<div class="screen hidden" id="managementScreen">
    <h2 class="title">Manage Credentials</h2>

    <div class="input-group">
        <label class="input-label">Private Key</label>
        <input type="text" class="input-field" id="privateKeyField">
    </div>

    <div class="input-group">
        <label class="input-label">User/Email</label>
        <input type="text" class="input-field" id="userOrMailField">
    </div>

    <div class="input-group">
        <label class="input-label">Site URL</label>
        <input type="text" class="input-field" id="siteField">
    </div>

    <div class="input-group">
        <label class="input-label">Nonce Control</label>
        <div class="nonce-container">
            <button class="nonce-btn">-</button>
            <input type="number" class="input-field" value="0" style="max-width: 100px;" id="nonceField">
            <button class="nonce-btn">+</button>
            <button class="option-btn" style="margin-left: auto;">Load Nonce State</button>
        </div>
    </div>
    <div class="input-group">
        <label class="input-label">Site Password:</label>
        <input type="text" class="input-field" id="passwordField">
    </div>
    <button class="option-btn" onclick="showPassword()">
        Show Password    </button>
    <button class="option-btn" onclick="showScreen('confirmScreen')">
        Save All Data Encrypted
    </button>
</div>

<!-- Encryption Confirmation -->
<div class="screen hidden" id="confirmScreen">
    <h2 class="title">Secure Encryption</h2>

    <div class="input-group">
        <label class="input-label">Encryption Password</label>
        <input type="password" class="input-field">
    </div>

    <div class="input-group">
        <label class="input-label">Repeat Password</label>
        <input type="password" class="input-field">
    </div>

    <button class="option-btn" onclick="showScreen('managementScreen')">
        Save Encrypted Data
    </button>
</div>

<script src="./bip39WordList.js"></script>
<script src="./crypto-js.min.js"></script>
<script src="./UITEST.js"></script>

</body>
</html>